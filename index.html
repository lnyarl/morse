<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Morse</title>
  <meta name="description" content="morse">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Morse</h1>
    </header>
    <div id="container">
      <p class="tagline">morse</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/lnyarl/morse/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/lnyarl/morse/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/lnyarl/morse" class="code">fork Morse on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>Morse</h1>

<h2>Introduction</h2>

<p>자바스크립트로 만든 모스부호 입력기</p>

<p><img src="http://distilleryimage6.instagram.com/709333a28c9311e1be6a12313820455d_7.jpg" width="300" height="300"><br>(내가 그렸다.)</p>

<h2>Quick start</h2>

<p>이 코드는 'sample1.js'와 'sample1.html'의 코드이다. 아래는 html파일의 내용이다.</p>

<pre><code>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;sample1&lt;/title&gt;
        &lt;script type="text/javascript" src="../lib/jquery.js" &gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="../lib/morse.js" &gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="./sample1.js" &gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        see console&lt;br /&gt;
        &lt;textarea id="input"&gt;&lt;/textarea&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>그리고 자바스크립트는 다음과 같다.</p>

<pre><code>$(document).ready(function(){
    var morse = new Morse();

    var handler = morse.getHandler();
    $('#input').keydown(handler.on).keyup(handler.off);
});
</code></pre>

<p>이제 html파일을 열어 textarea를 클릭해 포커스를 주고 아무키나 눌러보자. 길게도 누르고 있다가 떼도 되고 짧게 누르고 있다가 떼도 된다. 콘솔창을 보면 자신이 누른 것이 출력되는 것을 볼 수 있다. 만약 'dot'의 길이를 바꾸고 싶다면 생성자에 ms단위의 시간을 인자로 넘기면 된다.</p>

<pre><code>var morse = new Morse(300); // 이제 'dot'은 300ms이다
</code></pre>

<p>0 ms에서 300 ms 사이의 입력은 'dot'으로 인식하고 300 ms에서 900 ms('dot'의 3배 길이)에 들어오는 입력은 'dash'로 인식한다.</p>

<h2>API</h2>

<h3>contructor</h3>

<h4>Morse()</h4>

<p>기본 생성자. 'dot'은 200 ms 이다.</p>

<p>사용법:</p>

<pre><code>var morse = new Morse();
</code></pre>

<h4>Morse(duration)</h4>

<p>'dot'의 길이를 인자로 받는 생성자.</p>

<p>사용법:</p>

<pre><code>var morse = new Morse(100); // dot duration is 100ms
</code></pre>

<h3>callback</h3>

<ul>
<li>
<strong>input_handler(input)</strong> : 사용자가 'dot'이나 'dash'를 입력 했을 때 호출된다.</li>
<li>
<strong>letter_handler(input)</strong> : 사용자가 한 글자를 입력했을 때 호출된다. 한 글자는 'dot'과 'dash'를 조합하여 완성한다.</li>
<li>
<strong>word_handler(input)</strong> : 사용자가 한 단어를 입력 했을 때 호출된다. 'dot'의 7배의 시간동안 입력이 없으면 한 단어가 입력된 것으로 인식한다.</li>
<li>
<strong>error_handler(e)</strong> : <code>out()</code>메서드에서 적합하지 않은 코드를 인식했을 때 호출된다.</li>
</ul><h3>method</h3>

<h4>feed(input)</h4>

<p>내부 입력 버퍼에 입력을 쌓는다.</p>

<p>사용법:</p>

<pre><code>var morse = new Morse();

morse.feed('.');
morse.feed('-');
assert(morse.out(true) == 'a');

morse.feed('.');
morse.feed('-');
morse.feed(' ');
morse.feed('.');
morse.feed('-');
assert(morse.out(ture) == 'aa');

morse.feed('.');
morse.feed('-');
morse.feed(' ');
morse.feed('.');
morse.feed('-');
morse.feed('/');
morse.feed('.');
morse.feed('-');
assert(morse.out(true) == 'aa a');
</code></pre>

<h4>out(flush)</h4>

<p>내부 입력 버퍼에 쌓인 데이터를 파싱해 모스기호를 문자로 변환한다. 인자로 들어오는 flush가 true이면 입력 버퍼를 초기화 한다.</p>

<p>사용법:</p>

<pre><code>var morse = new Morse();

morse.feed('.');
morse.feed('-');
assert(morse.out() == 'a');
morse.feed(' ');
morse.feed('.');
morse.feed('-');
assert(morse.out() == 'aa');

assert(morse.out(true) == 'aa');

morse.feed('.');
morse.feed('-');
assert(morse.out() == 'a');
</code></pre>

<h4>getHandler()</h4>

<p>모스 기호를 만들어내는데 사용되는 핸들러를 가져온다. 사용되는 핸들러는 on, off이다. 보통 keydown 이벤트에 on을, keyup 이벤트에 off를 매핑 시켜서 사용한다.</p>

<p>사용법:</p>

<pre><code>var morse = new Morse();
var handler = morse.getHandler();
$('#input').keydown(handler.on)
    .keyup(handler.off);
</code></pre>

<h4>flush()</h4>

<p>내부 입력 버퍼를 초기화한다.</p>

<h3>static method</h3>

<h4>Morse.get(code)</h4>

<p>사용법:</p>

<pre><code>assert(Morse.get('.-') == 'a');
assert(Morse.get('--.-') == 'q');
Morse.get('............') // error
</code></pre>

<h4>Morse.suggest(code)</h4>

<p>테스트되지 않았다. 사용하지 말길 바란다.</p>

<h2>To do</h2>

<ul>
<li>한글, 기호, 숫자 지원</li>
</ul><h2>Reference</h2>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Morse_code">wikipedia - morse code(en)</a></li>
<li><a href="http://ko.wikipedia.org/wiki/%EB%AA%A8%EC%8A%A4_%EB%B6%80%ED%98%B8">wikipedia - morse code(ko)</a></li>
</ul>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/lnyarl" class="avatar"><img src="https://secure.gravatar.com/avatar/8232d82f449689642bb4c1f6bbc929bd?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png" width="48" height="48"/></a> <a href="https://github.com/lnyarl">lnyarl</a> maintains <a href="https://github.com/lnyarl/morse">Morse</a></p>
      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/lnyarl/morse/tarball/master" class="tar">tar</a><a href="https://github.com/lnyarl/morse/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
